import{Q as i}from"./QInput.61387de3.js";import{f as n,Q as p}from"./QBtn.f20efc65.js";import{Q as c}from"./QPage.0f7740f6.js";import{api as u}from"./axios.817f73cc.js";import{u as w}from"./UserStore.0e76a966.js";import{_ as g,E as m,F as f,G as a,H as t,M as P,I as h,P as v,J as b,R as V,S as _,L as y}from"./index.21c77581.js";import"./use-dark.6a233e5d.js";import"./focus-manager.33224ae2.js";const k={name:"RegisterPage",setup(){return{userStore:w()}},data(){return{name:"",surname:"",email:"",password:"",confirmPassword:"",isPwd1:!0,isPwd2:!0,errorMessage:""}},computed:{isSamePassword(){return this.confirmPassword!==this.password?"The passwords must be the same!":0},isEmptyInput(){return this.name!==""&&this.surname!==""&&this.email!==""&&this.password.length>=6&&this.confirmPassword===this.password?1:0}},mounted(){this.userStore.token!==null&&this.$router.push("/")},methods:{async validateRegister(){try{await u.get("/sanctum/csrf-cookie");const o=await u.post("/register",{name:this.name,surname:this.surname,email:this.email,password:this.password,password_confirmation:this.confirmPassword});this.userStore.token=o.data.token,this.userStore.data=o.data.userData,this.errorMessage="",this.$router.push("/")}catch(o){this.errorMessage=o.response.data.message}}}},I=o=>(V("data-v-19cabf58"),o=o(),_(),o),j=I(()=>y("h3",null," Registracija ",-1)),S={key:0,class:"text-red-7 text-h6"};function x(o,r,R,Q,s,l){return m(),f(c,{padding:"",class:"column flex-center"},{default:a(()=>[j,t(i,{modelValue:s.name,"onUpdate:modelValue":r[0]||(r[0]=e=>s.name=e),label:"Ime",dense:"",class:"registerInput",rules:[e=>!!e||"Polje je obvezno"]},null,8,["modelValue","rules"]),t(i,{modelValue:s.surname,"onUpdate:modelValue":r[1]||(r[1]=e=>s.surname=e),label:"Priimek",class:"registerInput",rules:[e=>!!e||"Polje je obvezno"],dense:""},null,8,["modelValue","rules"]),t(i,{modelValue:s.email,"onUpdate:modelValue":r[2]||(r[2]=e=>s.email=e),label:"E-mail",class:"registerInput",rules:[e=>!!e||"Polje je obvezno",(e,d)=>d.email(e)||"Prosim napi\u0161ite veljaven e-mail"],dense:""},null,8,["modelValue","rules"]),t(i,{modelValue:s.password,"onUpdate:modelValue":r[4]||(r[4]=e=>s.password=e),label:"Geslo",class:"registerInput",type:s.isPwd1?"password":"text",rules:[e=>!!e||"Polje je obvezno",e=>e.length>=6||"Geslo mora biti vsaj 6 znakov dolgo"],dense:""},{append:a(()=>[t(n,{name:s.isPwd1?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[3]||(r[3]=e=>s.isPwd1=!s.isPwd1)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),t(i,{modelValue:s.confirmPassword,"onUpdate:modelValue":r[6]||(r[6]=e=>s.confirmPassword=e),label:"Potrdi Geslo",class:"registerInput",type:s.isPwd2?"password":"text",rules:[e=>!!e||"Polje je obvezno",e=>e===s.password||"Oba gesla morata biti enaka"],dense:""},{append:a(()=>[t(n,{name:s.isPwd2?"visibility_off":"visibility",class:"cursor-pointer",onClick:r[5]||(r[5]=e=>s.isPwd2=!s.isPwd2)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),t(p,{class:"registerButton",disabled:!l.isEmptyInput,onClick:l.validateRegister},{default:a(()=>[P(" Registracija ")]),_:1},8,["disabled","onClick"]),s.errorMessage.length>0?(m(),h("p",S,v(s.errorMessage),1)):b("",!0)]),_:1})}var D=g(k,[["render",x],["__scopeId","data-v-19cabf58"]]);export{D as default};
