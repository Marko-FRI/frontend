import{a as N,b as p,v as z,h as H,Q as S,d as U}from"./QBtn.f20efc65.js";import{u as Y,a as G,b as J,c as K}from"./use-panel.348b8b63.js";import{j as c,t as u,r as W,w as x,a2 as X,o as D,m as M,Y as Q,x as L,a3 as Z}from"./index.21c77581.js";import{u as ee,a as ne}from"./use-dark.6a233e5d.js";var ve=N({name:"QCarouselSlide",props:{...Y,imgSrc:String},setup(e,{slots:a}){const o=c(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>u("div",{class:"q-carousel__slide",style:o.value},p(a.default))}});let _=0;const te={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ae=["update:fullscreen","fullscreen"];function oe(){const e=L(),{props:a,emit:o,proxy:l}=e;let r,v,g;const i=W(!1);z(e)===!0&&x(()=>l.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&s()}),x(()=>a.fullscreen,d=>{i.value!==d&&m()}),x(i,d=>{o("update:fullscreen",d),o("fullscreen",d)});function m(){i.value===!0?s():f()}function f(){i.value!==!0&&(i.value=!0,g=l.$el.parentNode,g.replaceChild(v,l.$el),document.body.appendChild(l.$el),_++,_===1&&document.body.classList.add("q-body--fullscreen-mixin"),r={handler:s},Q.add(r))}function s(){i.value===!0&&(r!==void 0&&(Q.remove(r),r=void 0),g.replaceChild(l.$el,v),i.value=!1,_=Math.max(0,_-1),_===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),l.$el.scrollIntoView!==void 0&&setTimeout(()=>{l.$el.scrollIntoView()})))}return X(()=>{v=document.createElement("span")}),D(()=>{a.fullscreen===!0&&f()}),M(s),Object.assign(l,{toggleFullscreen:m,setFullscreen:f,exitFullscreen:s}),{inFullscreen:i,toggleFullscreen:m}}const le=["top","right","bottom","left"],re=["regular","flat","outline","push","unelevated"];var de=N({name:"QCarousel",props:{...ee,...G,...te,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>re.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>le.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...ae,...J],setup(e,{slots:a}){const{proxy:{$q:o}}=L(),l=ne(e,o);let r,v;const{updatePanelsList:g,getPanelContent:i,panelDirectives:m,goToPanel:f,previousPanel:s,nextPanel:d,getEnabledPanels:V,panelIndex:y}=K(),{inFullscreen:I}=oe(),A=c(()=>I.value!==!0&&e.height!==void 0?{height:e.height}:{}),q=c(()=>e.vertical===!0?"vertical":"horizontal"),O=c(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(I.value===!0?" fullscreen":"")+(l.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${q.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${k.value}`:"")),w=c(()=>{const n=[e.prevIcon||o.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||o.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&o.lang.rtl===!0?n.reverse():n}),$=c(()=>e.navigationIcon||o.iconSet.carousel.navigationIcon),R=c(()=>e.navigationActiveIcon||$.value),k=c(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),b=c(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));x(()=>e.modelValue,()=>{e.autoplay&&(clearInterval(r),C())}),x(()=>e.autoplay,n=>{n?C():clearInterval(r)});function C(){const n=Z(e.autoplay)===!0?e.autoplay:5e3;r=setTimeout(n>=0?d:s,Math.abs(n))}D(()=>{e.autoplay&&C()}),M(()=>{clearInterval(r)});function F(n,h){return u("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${n} q-carousel__navigation--${k.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[u("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},V().map(h))])}function j(){const n=[];if(e.navigation===!0){const h=a["navigation-icon"]!==void 0?a["navigation-icon"]:t=>u(S,{key:"nav"+t.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${t.active===!0?"":"in"}active`,...t.btnProps,onClick:t.onClick}),P=v-1;n.push(F("buttons",(t,B)=>{const T=t.props.name,E=y.value===B;return h({index:B,maxIndex:P,name:T,active:E,btnProps:{icon:E===!0?R.value:$.value,size:"sm",...b.value},onClick:()=>{f(T)}})}))}else if(e.thumbnails===!0){const h=e.controlColor!==void 0?` text-${e.controlColor}`:"";n.push(F("thumbnails",P=>{const t=P.props;return u("img",{key:"tmb#"+t.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${t.name===e.modelValue?"":"in"}active`+h,src:t.imgSrc||t["img-src"],onClick:()=>{f(t.name)}})}))}return e.arrows===!0&&y.value>=0&&((e.infinite===!0||y.value>0)&&n.push(u("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${q.value} absolute flex flex-center`},[u(S,{icon:w.value[0],...b.value,onClick:s})])),(e.infinite===!0||y.value<v-1)&&n.push(u("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${q.value} absolute flex flex-center`},[u(S,{icon:w.value[1],...b.value,onClick:d})]))),U(a.control,n)}return()=>(v=g(a),u("div",{class:O.value,style:A.value},[H("div",{class:"q-carousel__slides-container"},i(),"sl-cont",e.swipeable,()=>m.value)].concat(j())))}});export{ve as Q,de as a};
